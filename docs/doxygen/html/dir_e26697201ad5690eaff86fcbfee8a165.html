<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IoT-muskrattrap: serverSide/nodered/node_modules/node-red-node-ui-table Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IoT-muskrattrap
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_e26697201ad5690eaff86fcbfee8a165.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">node-red-node-ui-table Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Directory dependency graph for node-red-node-ui-table:</div>
<div class="dyncontent">
<div class="center"><img src="dir_e26697201ad5690eaff86fcbfee8a165_dep.png" border="0" usemap="#adir__e26697201ad5690eaff86fcbfee8a165__dep" loading="lazy" alt="serverSide/nodered/node_modules/node-red-node-ui-table"/></div>
<map name="adir__e26697201ad5690eaff86fcbfee8a165__dep" id="adir__e26697201ad5690eaff86fcbfee8a165__dep">
<area shape="rect" href="dir_e26697201ad5690eaff86fcbfee8a165.html" title="node&#45;red&#45;node&#45;ui&#45;table" alt="" coords="27,52,176,78"/>
<area shape="rect" href="dir_1fe2c0d618eaa8bd2b6d3d78892e74a8.html" title="node_modules" alt="" coords="16,16,187,89"/>
</map>
</div>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>A Node-RED UI widget node which displays data as a table.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1532"></a>
Install</h1>
<p>Either use the Editor - Menu - Manage Palette - Install option, or run the following command in your Node-RED user directory (typically <span class="tt">~/.node-red</span>) after installing Node-RED-dashboard. </p><pre class="fragment">    npm i node-red-node-ui-table
</pre><h1 class="doxsection"><a class="anchor" id="autotoc_md1533"></a>
Usage</h1>
<p>This table node expects <span class="tt">msg.payload</span> to contain an array of data, one object per row. Each data row object should have the same set of keys because the keys in the object are used as the column names.</p>
<p>Both examples can be imported from the Node-RED Editor - Menu - Import - Examples</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1534"></a>
Simple Table</h2>
<p>With no configuration the node will try to create a table with equally spaced columns of simple text for each row provided, using the keys as column titles.</p>
<p><img src="https://raw.githubusercontent.com/node-red/node-red-ui-nodes/master/node-red-node-ui-table/screenshot.png" alt="screenshot" class="inline"/></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1535"></a>
Richer Table</h2>
<p>The columns can be configured manually. If so then only the <span class="tt">msg.payload</span> properties defined will be displayed. You can then also define the Title, Width, Alignment and Format of the column.</p>
<p><img src="https://raw.githubusercontent.com/node-red/node-red-ui-nodes/master/node-red-node-ui-table/screenshot2.png" alt="screenshot2" class="inline"/></p>
<ul>
<li><b>Title</b>: Text for the column title (or blank).</li>
<li><b>Width</b>: Either a number of pixels or percentage of the overall table width. e.g. 150 or 20%. Leave blank for automatic, equally spaced to fill the available space.</li>
<li><b>Align</b>: Column alignment, left, centre or right.</li>
<li><b>Format</b>: Formatting of the input.<ul>
<li><b>Plain Text</b> - Simple text values.</li>
<li><b>HTML</b> - Rich html to allow text Formatting - <em>NOTE</em>: this is raw un-sanitised HTML.</li>
<li><b>Link</b> - URL link to a web page.</li>
<li><b>Image</b> - Source (src) URL of an image to display.</li>
<li><b>Progress</b> - a progress bar from 0 to 100.</li>
<li><b>Traffic</b> - Red/Amber/Green indicator light set by numbers in the range 0-33-67-100.</li>
<li><b>Color</b> - HTML color name, or hex value (#rrggbb) to fill the cell.</li>
<li><b>Tick/Cross</b> - Tick or Cross symbol, boolean true/false, numeric 1/0 or text "1"/"0".</li>
<li><b>Stars</b> - Number of stars - numeric 0 to 5.</li>
<li><b>Row Number</b> - Current row number.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1536"></a>
Example data</h2>
<div class="fragment"><div class="line">[</div>
<div class="line">    {</div>
<div class="line">        &quot;Name&quot;: &quot;Kazuhito Yokoi&quot;,</div>
<div class="line">        &quot;Age&quot;: &quot;35&quot;,</div>
<div class="line">        &quot;Favourite Color&quot;: &quot;red&quot;,</div>
<div class="line">        &quot;Date Of Birth&quot;: &quot;12/09/1983&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">        &quot;Name&quot;: &quot;Oli Bob&quot;,</div>
<div class="line">        &quot;Age&quot;: &quot;12&quot;,</div>
<div class="line">        &quot;Favourite Color&quot;: &quot;cyan&quot;,</div>
<div class="line">        &quot;Date Of Birth&quot;: &quot;12/08/2017&quot;</div>
<div class="line">    }</div>
<div class="line">]</div>
</div><!-- fragment --> <h1 class="doxsection"><a class="anchor" id="autotoc_md1537"></a>
advanced features</h1>
<p>ui-table is based on the <b>tabulator</b> module. You can find an excellent in depth <a href="http://tabulator.info/docs/4.4">documentation here</a> with many <a href="http://tabulator.info/examples/4.4">examples here</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1538"></a>
send commands to ui-table</h1>
<p>Instead of sending an array to ui-table this node to replace the complete table data ui-table also accepts an object as payload to send commands. Beside data manipulation you can <a href="http://tabulator.info/docs/4.5/filter#func">set filters</a> and do many other things with commands. The object must have the following properties</p>
<ul>
<li><span class="tt">command</span> a valid tabulator function such as <span class="tt">addRow</span>, <span class="tt">replaceData</span> or <span class="tt">addFilter</span></li>
<li><span class="tt">arguments</span> <em>(optional)</em> array of arguments for that function</li>
<li><span class="tt">returnPromise</span> <em>(optional)</em> a boolean value. <span class="tt">true</span> if the function should return a promise message. See tabulator documentation which commands will return promises</li>
</ul>
<p>example </p><div class="fragment"><div class="line">{&quot;payload&quot;:{</div>
<div class="line">    &quot;command&quot;:&quot;addData&quot;,</div>
<div class="line">    &quot;arguments&quot;:[</div>
<div class="line">        {</div>
<div class="line">            &quot;facility&quot;:&quot;daemon&quot;,</div>
<div class="line">            &quot;facilityCode&quot;:3,</div>
<div class="line">            &quot;severity&quot;:&quot;info&quot;,</div>
<div class="line">            &quot;severityCode&quot;:6,</div>
<div class="line">            &quot;tag&quot;:&quot;systemd[1]&quot;,</div>
<div class="line">            &quot;timestamp&quot;:&quot;2020-01-02T19:17:39.793Z&quot;,</div>
<div class="line">            &quot;hostname&quot;:&quot;localhost&quot;,</div>
<div class="line">            &quot;address&quot;:&quot;127.0.0.1&quot;,</div>
<div class="line">            &quot;family&quot;:&quot;IPv4&quot;,</div>
<div class="line">            &quot;port&quot;:38514,</div>
<div class="line">            &quot;size&quot;:80,</div>
<div class="line">            &quot;msg&quot;:&quot;some demo data&quot;,</div>
<div class="line">            &quot;id&quot;:2351</div>
<div class="line">        },</div>
<div class="line">        true</div>
<div class="line">    ],</div>
<div class="line">    &quot;returnPromise&quot;:true</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p> By sending only changed or new data to ui-table it is possible to update the table very fast by only sending the new data down to cell level. Or huge amounts of data could be sent like logs.</p>
<p><b>important notices</b></p>
<p>Data which is sent to ui-table through commands is <b>not</b> cached by ui-table! The flow has to take care to update the table for new clients connection or dashboard tab changes! Tabulator does not limit the amount of data it holds. It is quite efficient in showing tables with a couple of thousand rows. If it the data exceeds the capabilities of the clients browser it will crash with an <b>out of memory</b> error without notice.</p>
<p>Example flow "4 sending commands.json" file can be found in the examples folder or installed directly using <b>menu/import/examples/ui-table</b>. This flow shows a basic implementation how the flow can keep a cached copy of all table data and add/delete or update selective rows. Most nodes have info text available in the info/help tab.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1539"></a>
control ui-table by sending <span class="tt">msg.ui_control</span> messages</h1>
<p>ui-table can be customized by sending configuration data to <span class="tt">msg.ui_control.tabulator</span>.</p>
<p><img src="https://raw.githubusercontent.com/node-red/node-red-ui-nodes/master/node-red-node-ui-table//ui-table-custom.png" alt="customized table" class="inline"/></p>
<p>by adding <em><b>headers</b></em>, <em><b>footers</b></em>, <em><b>line</b></em> or <em><b>column grouping</b></em> it is sometimes not possible to determine the amount of lines. Therefore the height can be defined by sending <span class="tt">msg.ui_control.customHeight=lines</span>.</p>
<p>Example flow "3 ui_control table.json" file can be found in the examples folder</p>
<ul>
<li>grouped columns by nesting column definition in <span class="tt"> ui_control.tabulator.columns</span></li>
<li>first column <span class="tt">frozen</span> from horizontal scrolling</li>
<li><span class="tt">formatterParams</span> to define min/max, color, legend or other parameters for <span class="tt">progress</span> and <span class="tt">planText</span> formatters</li>
<li>functions to format legend values <div class="fragment"><div class="line"> javascript</div>
<div class="line">// add a unit</div>
<div class="line">function(cell, formatterParams, onRendered){</div>
<div class="line">    return cell.getValue()+&quot;°C&quot;;</div>
<div class="line">}</div>
</div><!-- fragment --> or more sophisticated using html <div class="fragment"><div class="line"> javascript</div>
<div class="line">// convert Number to Icons</div>
<div class="line">function(cell, formatterParams, onRendered){</div>
<div class="line">    var html=&quot;&lt;i class=\&quot;&quot;;</div>
<div class="line">    switch(cell.getValue()) {</div>
<div class="line">        case 0: html+=&quot;fa fa-calendar-check-o&quot;; break;</div>
<div class="line">        case 1: html+=&quot;fa fa-hand-o-up&quot;; break;</div>
<div class="line">        case 2: html+=&quot;fa fa-suitcase&quot;; break;</div>
<div class="line">        case 3: html+=&quot;fa fa-spinner fa-spin fa-fw&quot;; break;</div>
<div class="line">    }</div>
<div class="line">    html+=&#39;\&quot;&gt;&lt;/i&gt;&#39;;</div>
<div class="line">    return html;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li><span class="tt">topCalc</span> for average and min/max calculations</li>
<li>custom icons for <span class="tt">tickCross</span> formatter</li>
<li><span class="tt">tick</span> formatter</li>
<li><span class="tt">groupBy</span> parameter to use group lines. <span class="tt">groupHeader</span> function to format legend and adding html tags (Insert a field name in the groupBy paramter at the end of json in the change node to use this feature)</li>
<li><span class="tt">columnResized</span> callback function to receive a message when the user resize a column <div class="fragment"><div class="line"> javascript</div>
<div class="line">function(column){</div>
<div class="line">    var newColumn = {</div>
<div class="line">        field: column._column.field,</div>
<div class="line">        visible: column._column.visible,</div>
<div class="line">        width: column._column.width,</div>
<div class="line">        widthFixed: column._column.widthFixed,</div>
<div class="line">        widthStyled: column._column.widthStyled</div>
<div class="line">    };</div>
<div class="line">    this.send({</div>
<div class="line">        ui_control:{callback:&#39;columnResized&#39;,columnWidths:newColumn}</div>
<div class="line">    });</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>use <span class="tt">this.send({})</span> to pass result to Node-RED. (to avoid a loopback add<span class="tt">ui_control.callback="someText"</span>) <div class="fragment"><div class="line">this.send({topic: &quot;anyTopic&quot;,payload:&quot;anyPayload&quot;,ui_control: {callback:&quot;myCallback&quot;}});</div>
</div><!-- fragment --></li>
<li>all parameters are named according to tabulator documentation. Use <span class="tt">field</span> instead of <span class="tt">Property</span> used in node configuration</li>
<li>no validation of <span class="tt">msg.ui_control</span> data is performed! So if you don`t get the results you expect take a look on your browsers console. </li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_27880ab04338f9dc09e25838fc9f82f1.html">serverSide</a></li><li class="navelem"><a href="dir_ea245d1371037254a9bc4ef873bc881e.html">nodered</a></li><li class="navelem"><a href="dir_1fe2c0d618eaa8bd2b6d3d78892e74a8.html">node_modules</a></li><li class="navelem"><a href="dir_e26697201ad5690eaff86fcbfee8a165.html">node-red-node-ui-table</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
