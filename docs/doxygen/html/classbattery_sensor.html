<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IoT-muskrattrap: batterySensor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IoT-muskrattrap
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classbattery_sensor.html','','classbattery_sensor-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">batterySensor Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>BatteryStatus class declaration:  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="battery_sensor_8h_source.html">batterySensor.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for batterySensor:</div>
<div class="dyncontent">
<div class="center"><img src="classbattery_sensor__coll__graph.png" border="0" usemap="#abattery_sensor_coll__map" loading="lazy" alt="Collaboration graph"/></div>
<map name="abattery_sensor_coll__map" id="abattery_sensor_coll__map">
<area shape="rect" title="BatteryStatus class declaration:" alt="" coords="5,102,108,128"/>
<area shape="rect" href="classiot_shield_l_e_d.html" title="Represents an LED on the HAN IoT Shield. Provides an interface to control the state of an LED (on or ..." alt="" coords="8,5,105,31"/>
<area shape="poly" title=" " alt="" coords="59,46,59,101,54,101,54,46"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a36a213190436f77694d2020fae980979" id="r_a36a213190436f77694d2020fae980979"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36a213190436f77694d2020fae980979">batterySensor</a> (<a class="el" href="classiot_shield_l_e_d.html">iotShieldLED</a> *led)</td></tr>
<tr class="memdesc:a36a213190436f77694d2020fae980979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="classbattery_sensor.html" title="BatteryStatus class declaration:">batterySensor</a>. Initializes the battery sensor object.  <br /></td></tr>
<tr class="memitem:aa5723ef7a0dc9d6d5d47ac9f77e779d1" id="r_aa5723ef7a0dc9d6d5d47ac9f77e779d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5723ef7a0dc9d6d5d47ac9f77e779d1">~batterySensor</a> ()</td></tr>
<tr class="memdesc:aa5723ef7a0dc9d6d5d47ac9f77e779d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for <a class="el" href="classbattery_sensor.html" title="BatteryStatus class declaration:">batterySensor</a>. Cleans up resources used by the battery sensor object, if any.  <br /></td></tr>
<tr class="memitem:a2f55eb41f85757a517a82b8455caa3d7" id="r_a2f55eb41f85757a517a82b8455caa3d7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f55eb41f85757a517a82b8455caa3d7">getBatteryLevel</a> () const</td></tr>
<tr class="memdesc:a2f55eb41f85757a517a82b8455caa3d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current battery level (percentage).  <br /></td></tr>
<tr class="memitem:a73079183e135cdb682b7a4d14a111f58" id="r_a73079183e135cdb682b7a4d14a111f58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73079183e135cdb682b7a4d14a111f58">update</a> ()</td></tr>
<tr class="memdesc:a73079183e135cdb682b7a4d14a111f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the battery level from hardware or simulation.  <br /></td></tr>
<tr class="memitem:a19bf0ef65c8fdf9107637ace90eb1699" id="r_a19bf0ef65c8fdf9107637ace90eb1699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19bf0ef65c8fdf9107637ace90eb1699">setBatteryLevel</a> (uint32_t batteryLevel)</td></tr>
<tr class="memdesc:a19bf0ef65c8fdf9107637ace90eb1699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current simulated battery level and updates LED brightness.  <br /></td></tr>
<tr class="memitem:a3a70456b8376b0ca18d2a48f3f48b398" id="r_a3a70456b8376b0ca18d2a48f3f48b398"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a70456b8376b0ca18d2a48f3f48b398">updateLedIndicator</a> ()</td></tr>
<tr class="memdesc:a3a70456b8376b0ca18d2a48f3f48b398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the battery indicator LED based on the current battery level. Uses PWM to control LED brightness if the LED pin supports PWM. Otherwise, it will turn the LED ON for high levels and OFF for low levels.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pri-attribs" class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:acfaa1983e2df87d90007f3cb3a7913d5" id="r_acfaa1983e2df87d90007f3cb3a7913d5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfaa1983e2df87d90007f3cb3a7913d5">_batteryLevel</a></td></tr>
<tr class="memdesc:acfaa1983e2df87d90007f3cb3a7913d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the current battery level.  <br /></td></tr>
<tr class="memitem:a532c0e74fe5dc5f7de23e52610959812" id="r_a532c0e74fe5dc5f7de23e52610959812"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classiot_shield_l_e_d.html">iotShieldLED</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a532c0e74fe5dc5f7de23e52610959812">_batteryLed</a></td></tr>
<tr class="memdesc:a532c0e74fe5dc5f7de23e52610959812"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the LED used for battery indication.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>BatteryStatus class declaration: </p>
<p>Simulates a battery sensor, providing battery level readings. This class is designed to mimic the behavior of a battery sensor, primarily by reading an analog value from potentiometer 2 on the HAN IoT Shield and interpreting it as a battery level. It also allows for manual setting of the battery level for simulation or testing purposes. </p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a36a213190436f77694d2020fae980979" name="a36a213190436f77694d2020fae980979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36a213190436f77694d2020fae980979">&#9670;&#160;</a></span>batterySensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">batterySensor::batterySensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiot_shield_l_e_d.html">iotShieldLED</a> *</td>          <td class="paramname"><span class="paramname"><em>led</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for <a class="el" href="classbattery_sensor.html" title="BatteryStatus class declaration:">batterySensor</a>. Initializes the battery sensor object. </p>
<p>Constructor for the <a class="el" href="classbattery_sensor.html" title="BatteryStatus class declaration:">batterySensor</a> class. Initializes the battery level to 0 and stores the provided LED object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led</td><td>Pointer to the <a class="el" href="classiot_shield_l_e_d.html" title="Represents an LED on the HAN IoT Shield. Provides an interface to control the state of an LED (on or ...">iotShieldLED</a> object to be used for battery level indication. Constructor</td></tr>
    <tr><td class="paramname">led</td><td>Pointer to the <a class="el" href="classiot_shield_l_e_d.html" title="Represents an LED on the HAN IoT Shield. Provides an interface to control the state of an LED (on or ...">iotShieldLED</a> object used for battery indication. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5723ef7a0dc9d6d5d47ac9f77e779d1" name="aa5723ef7a0dc9d6d5d47ac9f77e779d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5723ef7a0dc9d6d5d47ac9f77e779d1">&#9670;&#160;</a></span>~batterySensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">batterySensor::~batterySensor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor for <a class="el" href="classbattery_sensor.html" title="BatteryStatus class declaration:">batterySensor</a>. Cleans up resources used by the battery sensor object, if any. </p>
<p>Destructor for the <a class="el" href="classbattery_sensor.html" title="BatteryStatus class declaration:">batterySensor</a> class. Handles any cleanup required for the battery sensor. Turns off the battery LED if it was assigned.</p>
<p>Destructor </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a2f55eb41f85757a517a82b8455caa3d7" name="a2f55eb41f85757a517a82b8455caa3d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f55eb41f85757a517a82b8455caa3d7">&#9670;&#160;</a></span>getBatteryLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t batterySensor::getBatteryLevel </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current battery level (percentage). </p>
<p>Gets the current battery level. Reads the value from potentiometer 2 (potmeter2) on the HAN IoT Shield to simulate a battery level reading. The raw potentiometer value is cast to a uint32_t.</p>
<dl class="section return"><dt>Returns</dt><dd>Battery level (0-100)</dd>
<dd>
The current battery level as a uint32_t value. The range depends on the potentiometer's configuration (0-100 in this case). </dd></dl>

</div>
</div>
<a id="a19bf0ef65c8fdf9107637ace90eb1699" name="a19bf0ef65c8fdf9107637ace90eb1699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19bf0ef65c8fdf9107637ace90eb1699">&#9670;&#160;</a></span>setBatteryLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void batterySensor::setBatteryLevel </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>batteryLevel</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current simulated battery level and updates LED brightness. </p>
<p>Sets the battery level and updates the LED indicator. This method allows for manually setting the battery level, which can be useful for testing or simulation purposes where an actual hardware sensor reading is not desired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">batteryLevel</td><td>The battery level to set (e.g., 0-100).</td></tr>
    <tr><td class="paramname">batteryLevel</td><td>The battery level to set (expected 0-100). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a73079183e135cdb682b7a4d14a111f58" name="a73079183e135cdb682b7a4d14a111f58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73079183e135cdb682b7a4d14a111f58">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void batterySensor::update </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the battery level from hardware or simulation. </p>

</div>
</div>
<a id="a3a70456b8376b0ca18d2a48f3f48b398" name="a3a70456b8376b0ca18d2a48f3f48b398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a70456b8376b0ca18d2a48f3f48b398">&#9670;&#160;</a></span>updateLedIndicator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void batterySensor::updateLedIndicator </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the battery indicator LED based on the current battery level. Uses PWM to control LED brightness if the LED pin supports PWM. Otherwise, it will turn the LED ON for high levels and OFF for low levels. </p>
<p>Updates the battery indicator LED based on the current battery level. Uses PWM to control LED brightness. Assumes battery level is 0-100. </p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a532c0e74fe5dc5f7de23e52610959812" name="a532c0e74fe5dc5f7de23e52610959812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532c0e74fe5dc5f7de23e52610959812">&#9670;&#160;</a></span>_batteryLed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classiot_shield_l_e_d.html">iotShieldLED</a>* batterySensor::_batteryLed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the LED used for battery indication. </p>

</div>
</div>
<a id="acfaa1983e2df87d90007f3cb3a7913d5" name="acfaa1983e2df87d90007f3cb3a7913d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfaa1983e2df87d90007f3cb3a7913d5">&#9670;&#160;</a></span>_batteryLevel</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t batterySensor::_batteryLevel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the current battery level. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nodeCode/<a class="el" href="battery_sensor_8h_source.html">batterySensor.h</a></li>
<li>nodeCode/<a class="el" href="battery_sensor_8cpp.html">batterySensor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="classbattery_sensor.html">batterySensor</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
